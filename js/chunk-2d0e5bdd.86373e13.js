(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e5bdd"],{"967a":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("navbar"),r("v-container",[r("div",{staticClass:"d-flex justify-end mb-2"},[r("v-btn",{attrs:{color:"primary"},on:{click:e.openEmailDialog}},[e._v(" Send Email")])],1),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.records},scopedSlots:e._u([{key:"item.Name",fn:function(t){var a=t.item;return[r("div",[r("router-link",{attrs:{to:{name:"studentDetails",params:{id:a.Id}}}},[e._v(e._s(a.Name))])],1)]}}])})],1),r("v-dialog",{attrs:{"content-class":"rounded-0",persistent:"","max-width":"500px"},model:{value:e.emailDialog,callback:function(t){e.emailDialog=t},expression:"emailDialog"}},[r("v-card",{attrs:{tile:""}},[r("v-card-title",[e._v("\n        Send Email\n      ")]),r("v-card-text",[r("v-text-field",{attrs:{label:"Email Address",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{disabled:e.btnLoader,color:"blue darken-1",text:""},on:{click:function(t){e.emailDialog=!1}}},[e._v("\n          Close\n        ")]),r("v-btn",{attrs:{loading:e.btnLoader,disabled:e.btnLoader,color:"primary"},on:{click:e.sendEmailTrigger}},[e._v("\n          send\n        ")])],1)],1)],1),r("app-footer")],1)},n=[],i=(r("ac6a"),r("ade3")),o=r("1da1"),c=r("4d77");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={page:{title:"StudentList",meta:[{name:"description",content:"StudentList"}]},components:{},data(){return{headers:[{text:"Record",value:"Name"},{text:"Name",value:"Student_Name__c"}],records:[],email:"",emailDialog:!1,btnLoader:!1}},created(){var e=this;return Object(o["a"])((function*(){yield e.getRecords(),e.subscribeEvents()}))()},methods:l(l({},c["c"]),{},{getRecords(){var e=this;return Object(o["a"])((function*(){const t=yield e.$jsforce.browser.connection.query("select Id, Name, Student_Name__c from Student__c order by Id DESC");e.records=t.records}))()},subscribeEvents(){this.$jsforce.browser.on("connect",e=>{this.getRecords()})},openEmailDialog(){this.emailDialog=!0,this.email=""},sendEmailTrigger(){var e=this;return Object(o["a"])((function*(){try{e.btnLoader=!0;const t="AutoLaunchEmailFlow",r={inputs:[{email:e.email}]};yield e.triggerFlow({API:t,data:r});e.btnLoader=!1,e.emailDialog=!1}catch(t){e.$toasted.show(t),e.btnLoader=!1}}))()}})},u=d,m=r("2877"),b=Object(m["a"])(u,a,n,!1,null,null,null);t["default"]=b.exports}}]);